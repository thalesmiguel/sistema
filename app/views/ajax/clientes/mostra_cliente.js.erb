$("#cliente-visualizar").html("<%= escape_javascript(render partial: 'form', locals: { cliente: @cliente } ) %>");
$("#cliente-adicionais").html("<%= escape_javascript(render partial: 'clientes/adicionais', locals: { cliente: @cliente }) %>");

if (<%= !@cliente.new_record? %>) {
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/enderecos" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#enderecos-table", ".endereco-form", ".excluir-endereco", [], [0,1,2,3,4,5,6,7,8,9,10]);
  });
};


$("#clientes-tabs .tab.disabled").removeClass("disabled").addClass("enabled").addClass("waves-effect");
$("#clientes-tabs ul").tabs('select_tab', 'cliente-visualizar');
$("#cliente-dados-adicionais").removeClass("hide");


$('ul.tabs').tabs();
$('.collapsible').collapsible();
$('select').material_select();
$('textarea').trigger('autoresize');
Waves.displayEffect()

valida_formulario();
limita_text_area();

mascaras();
altera_mascara_cpf_cnpj()

Materialize.updateTextFields();


//

$(document).on("click", "a[href='#cliente-enderecos']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/enderecos" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#enderecos-table", ".endereco-form", ".excluir-endereco", [], [0,1,2,3,4,5,6,7,8,9,10]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-telefones']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/telefones" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#telefones-table", ".telefone-form", ".excluir-telefone", [], [0,1,2,3,4,5,6,7,8,9,10]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-emails']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/emails" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#emails-table", ".email-form", ".excluir-email", [], [0,1,2,3,4,5,6]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-fazendas']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/fazendas" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#fazendas-table", ".fazenda-form", ".excluir-fazenda", [], [0,1,2,3,4,5,6,7,8]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-cliente_bancos']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/cliente_bancos" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#cliente_bancos-table", ".cliente_banco-form", ".excluir-cliente_banco", [], [0,1,2,3,4,5,6,7,8,9,10,11]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-referencias']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/referencias" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#referencias-table", ".referencia-form", ".excluir-referencia", [], [0,1,2]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-lancar_autorizados']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/lancar_autorizados" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#lancar_autorizados-table", ".lancar_autorizado-form", ".excluir-lancar_autorizado", [], [0,1,2,3,4]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-racas']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/racas" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#racas-table", ".raca-form", ".excluir-raca", [], [0,1,2,3,4,5,6,7,8,9,10]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

$(document).on("click", "a[href='#cliente-empresas']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/empresas" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#empresas-table", ".empresa-form", ".excluir-empresa", [], [0,1,2,3,4,5,6]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});

//

$(document).on("click", "a[href='#cliente-alertas']", function(){
  $.ajax({
    type: "GET",
    url: '<%= "/clientes/#{@cliente.id}/alertas" %>',
    dataType : 'script'
  }).success(function(){
    carrega_datatable_id_automatico("#alertas-table", ".alerta-form", ".excluir-alerta", [], [0,1,2,3,4,5]);
    $('html, body').animate({scrollTop: $('header').offset().top}, 'slow');
  });
});
